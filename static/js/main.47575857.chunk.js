(this["webpackJsonpdeviget-frontend-challenge"]=this["webpackJsonpdeviget-frontend-challenge"]||[]).push([[0],{65:function(t,e,n){t.exports=n(91)},91:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=n(6),l=n(7),u=n(106),s=n(19);function m(){var t=Object(i.a)(["\n  padding: 20px 20px 0px 20px;\n  text-align: center;\n"]);return m=function(){return t},t}var d=Object(l.a)(u.a)(m()),f=function(t){var e=t.title;return r.a.createElement(d,{item:!0},r.a.createElement(s.a,{component:"span",variant:"h5"},e))},p=n(111),b=n(16),E=n(107),v=n(108),O=n(116),j=n(109),g=n(115),h=n(110),y=n(33),x=n(14),_=n(61),w=Object(_.a)({name:"redditPosts",initialState:{isErrored:!1,isLoading:!1,posts:[],post:{},lastPostId:""},reducers:{loadPosts:function(t){return Object(x.a)(Object(x.a)({},t),{},{isLoading:!0})},savePosts:function(t,e){var n=e.payload,a=n.children.slice(-1).pop(),r=n.before||a?"".concat(a.kind,"_").concat(a.data.id):"";return Object(x.a)(Object(x.a)({},t),{},{isLoading:!1,posts:[].concat(Object(y.a)(t.posts),Object(y.a)(n.children)),lastPostId:r})},dismissAllPosts:function(t){return Object(x.a)(Object(x.a)({},t),{},{posts:[]})},dismissPost:function(t,e){var n=e.payload,a=function(t,e){return t.posts.filter((function(t){return t.data.id!==e}))}(t,n),r=t.post.data;return Object(x.a)(Object(x.a)({},t),{},{posts:a,post:n===(null===r||void 0===r?void 0:r.id)?{}:t.post})},markAsRead:function(t,e){(function(t,e){return t.posts.find((function(t){return t.data.id===e})).data}(t,e.payload)).clicked=!0},seePostDetails:function(t,e){var n=e.payload;return Object(x.a)(Object(x.a)({},t),{},{post:n})}}}),k=w.reducer,P=w.actions,I=P.loadPosts,S=P.savePosts,L=(P.dismissAllPosts,P.dismissPost),D=P.markAsRead,N=P.seePostDetails,R=n(58),T=n.n(R),A=n(56),F=n.n(A),X=n(57),C=n.n(X).a.create({baseURL:"https://www.reddit.com/"}),U=n(21),z=function(t){return F.a.unix(t).fromNow()},J=function(t,e){t(I()),C.get("top.json".concat(function(t){return Object(U.isNil)(t)?"":"?".concat(Object.keys(t).filter((function(e){return t[e]})).map((function(e){return"".concat(e,"=").concat(t[e]||"")})).join("&"))}(e))).then((function(e){var n=e.data;t(S(n.data))}))};function M(){var t=Object(i.a)(["\n  & > span {\n    ","\n  }\n"]);return M=function(){return t},t}function V(){var t=Object(i.a)(["\n  flex-grow: 1 !important;\n"]);return V=function(){return t},t}function B(){var t=Object(i.a)(["\n  padding-left: 16px !important;\n  padding-right: 16px !important;\n"]);return B=function(){return t},t}var G=Object(l.a)(u.a)(B()),H=Object(l.a)(E.a)(V()),q=Object(l.a)(v.a)(M(),(function(t){return t.clicked?"color: rgba(0,0,0,.3)":"color: #000 !important"})),K=function(t){var e=t.post,n=Object(b.b)(),c=e.data,o=c.id,i=c.title,l=c.author,m=c.thumbnail,d=c.num_comments,f=c.created_utc,p=c.clicked;return r.a.createElement(a.Fragment,{key:o},r.a.createElement(O.a,{button:!0,onClick:function(){n(D(o)),n(N(e))},alignItems:"flex-start"},r.a.createElement(j.a,null,r.a.createElement(g.a,{alt:o,src:m})),r.a.createElement(q,{clicked:p,primary:i,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{component:"span",variant:"body2",color:"textSecondary"},"Posted by ",r.a.createElement("strong",null,"u/",l)," ",z(f)," "))})),r.a.createElement(G,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(H,{startIcon:r.a.createElement(T.a,null),onClick:function(){n(L(o))}},"Dismiss")),r.a.createElement(u.a,{item:!0,xs:!0},r.a.createElement(s.a,{component:"span",variant:"body2",color:"textSecondary"},"".concat(d," comments")))),r.a.createElement(h.a,null))};function Q(){var t=Object(i.a)(["\n  display: flex !important;\n  justify-content: center !important;\n"]);return Q=function(){return t},t}function W(){var t=Object(i.a)(["\n  min-width: 100%;\n  height: 100%;\n  overflow-y: scroll;\n"]);return W=function(){return t},t}var Y=Object(l.a)(u.a)(W()),Z=l.a.div(Q()),$=function(){var t=Object(b.c)((function(t){return t})),e=t.posts,n=t.isLoading,c=t.lastPostId,o=Object(b.b)();Object(U.isEmpty)(e)&&!n&&J(o,{limit:50});var i=Object(a.useRef)(),l=Object(a.useCallback)((function(t){n||(i.current&&i.current.disconnect(),i.current=new IntersectionObserver((function(t){t[0].isIntersecting&&J(o,{limit:50,after:c})})),t&&i.current.observe(t))}),[n,o,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{item:!0,xs:!0},e.map((function(t,n){return e.length===n+1?r.a.createElement("div",{key:t.data.id,ref:l},r.a.createElement(K,{post:t})):r.a.createElement(K,{key:t.data.id,post:t})})),n&&r.a.createElement(Z,null,r.a.createElement(p.a,null))))},tt=n(117),et=n(112),nt=n(113),at=n(114),rt=n(59),ct=n.n(rt),ot=n(60),it=n.n(ot);function lt(){var t=Object(i.a)(["\n  max-width: 25% !important;\n"]);return lt=function(){return t},t}function ut(){var t=Object(i.a)(["\n  display: flex !important;\n  align-items: center !important;\n  color: rgba(0, 0, 0, 0.54) !important;\n\n  & > svg {\n    margin-right: 5px !important;\n  }\n"]);return ut=function(){return t},t}function st(){var t=Object(i.a)(["\n  display: flex !important;\n  justify-content: center !important;\n"]);return st=function(){return t},t}function mt(){var t=Object(i.a)(["\n  font-weight: bold !important;\n  color: rgba(0, 0, 0, 0.54);\n  text-decoration: none !important;\n"]);return mt=function(){return t},t}function dt(){var t=Object(i.a)(["\n  max-width: 25% !important;\n"]);return dt=function(){return t},t}function ft(){var t=Object(i.a)(["\n  border-radius: 0px !important;\n"]);return ft=function(){return t},t}var pt=Object(l.a)(tt.a)(ft()),bt=l.a.img(dt()),Et=l.a.a(mt()),vt=Object(l.a)(et.a)(st()),Ot=Object(l.a)(s.a)(ut()),jt=l.a.video(lt()),gt=function(t){var e,n=t.post.data,a=n.post_hint,c=n.url,o=n.secure_media,i=n.media_embed;switch(a){case"image":return r.a.createElement(bt,{src:c});case"hosted:video":case"rich:video":var l=null===o||void 0===o||null===(e=o.reddit_video)||void 0===e?void 0:e.fallback_url,u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(null===i||void 0===i?void 0:i.content);return l?r.a.createElement(jt,{controls:!0,autoPlay:!0,loop:!0},r.a.createElement("source",{src:l,type:"video/mp4"})):r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:u}});default:return r.a.createElement(s.a,null,r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},c))}},ht=function(){var t=Object(b.c)((function(t){return t})).post,e=t.data||{},n=e.title,a=e.author,c=e.created_utc,o=e.num_comments,i=e.subreddit_name_prefixed,l=e.upvote_ratio,u=e.score;return!Object(U.isEmpty)(t)&&r.a.createElement(pt,null,r.a.createElement(nt.a,{title:n,subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,{href:"https://reddit.com/".concat(i),target:"_blank"},i)," ","\u2022 Posted by ",r.a.createElement("strong",null,"u/",a)," ",z(c)," ")}),r.a.createElement(vt,null,r.a.createElement(gt,{post:t})),r.a.createElement(at.a,null,r.a.createElement(Ot,null,r.a.createElement(ct.a,{fontSize:"small"}),"".concat(o," comments")),r.a.createElement(Ot,{style:{flexGrow:"1"}},r.a.createElement(it.a,{fontSize:"small"}),"".concat(u," points")),r.a.createElement(Ot,null,"".concat(Math.floor(100*l),"% upvoted"))))};function yt(){var t=Object(i.a)(["\n  padding: 50px !important;\n  min-width: 100%;\n  min-height: 100vh;\n"]);return yt=function(){return t},t}var xt=Object(l.a)(u.a)(yt()),_t=function(){return r.a.createElement(xt,{item:!0},r.a.createElement(ht,null))};function wt(){var t=Object(i.a)(["\n  width: 100%;\n"]);return wt=function(){return t},t}var kt=l.a.div(wt()),Pt=function(){return r.a.createElement(kt,null,r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{container:!0,item:!0,direction:"column",xs:12,sm:5,md:3},r.a.createElement(f,{title:"Reddit Posts"}),r.a.createElement($,null)),r.a.createElement(u.a,{container:!0,item:!0,xs:12,sm:7,md:9},r.a.createElement(_t,null))))},It=function(){return r.a.createElement(Pt,null)},St=n(12),Lt=Object(St.e)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(b.a,{store:Lt},r.a.createElement(It,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.47575857.chunk.js.map